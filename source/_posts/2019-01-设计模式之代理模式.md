---
title: 设计模式之代理模式
date: 2019-01-06 10:29:31
categories: 
- 设计模式
tags: 
- 设计模式
- 代理模式
---



定义

为其他对象提供一种代理，以控制找个对象的访问



代理对象在客户端和目标对象之间起到中介的作用。例如租房中介，相亲等。



类型：结构型



## 适用场景

- 保护目标对象

- 增强目标对象



优点

- 代理模式能将代理对象与真实被调用的目标对象分离
- 一定程度上降低了系统耦合度，扩展性好
- 保护目标对象
- 增强目标对象



## 缺点

- 代理模式会造成系统设计中类的数目增加
- 在客户端和目标对象增加一个代理对象，会造成请求处理变慢
- 增加系统复杂度



## 扩展

- 静态代理 
- 动态代理 无法代理类，只能代理接口
- CGLib代理 继承子类（注意final修饰符）

Spring代理选择

当Bean有实现接口时，Spring就会用JDK的动态代理；当Bean没有实现接口时，Spring适用CGLib代理；也可以强制适用CGLib

![1548211681051](C:\Users\ DanielQSL\AppData\Roaming\Typora\typora-user-images\1548211681051.png)



代理速度对比

- CGLib 

- JDK动态代理

- 速度对比 

  JDK7、8动态代理比CGLib快20%左右



## 相关设计模式区别
- 代理模式和装饰者模式
- 代理模式和适配器模式



## UML






